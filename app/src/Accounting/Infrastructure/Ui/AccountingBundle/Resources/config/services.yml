services:

    _defaults:
        autowire: true
        autoconfigure: true

    Misa\Accounting\Infrastructure\Ui\AccountingBundle\Controller\:
        resource: '../../Controller'
        public: true
        tags: ['controller.service_arguments']

    ###  event
    Misa\Accounting\Application\Event\Provider\MngEvent: ~

    ###    services
    #provider
    Misa\Accounting\Application\Services\Provider\MngService: ~
    Misa\Accounting\Application\Services\Provider\ListService: ~
    Misa\Accounting\Application\Services\Provider\SearchService: ~

    #provider
    Misa\Accounting\Application\Services\Source\MngService: ~


    ###   repository
    #persistence provider
    Misa\Accounting\Domain\Provider\BankDetail\BankRepository: '@accounting.doctrine.provider.bank'
    Misa\Accounting\Domain\Product\ProductRepository: '@accounting.doctrine.product'
    Misa\Accounting\Domain\Product\ItemRepository: '@accounting.doctrine.product.item'
    Misa\Accounting\Domain\Provider\ProviderRepository: '@accounting.doctrine.provider'
    #searchEngine
    Misa\Accounting\Domain\Provider\ProviderSearchRepository: '@accounting.solr.provider.search'

    #persistence source
    Misa\Accounting\Domain\Provider\Source\SourceRepository: '@accounting.doctrine.source'

    accounting.doctrine.provider.bank:
        class: Misa\Accounting\Infrastructure\Persistence\Doctrine\ProviderBankDoctrineRepository
        arguments: { $entityName: 'Misa\Accounting\Domain\Provider\BankDetail\Bank' }

    accounting.doctrine.product:
        class: Misa\Accounting\Infrastructure\Persistence\Doctrine\ProductDoctrineRepository
        arguments: {$entityName: 'Misa\Accounting\Domain\Product\Product'}

    accounting.doctrine.product.item:
        class: Misa\Accounting\Infrastructure\Persistence\Doctrine\ProductItemRepository
        arguments: {$entityName: 'Misa\Accounting\Domain\Product\Item'}

    accounting.doctrine.provider:
        class: Misa\Accounting\Infrastructure\Persistence\Doctrine\ProviderDoctrineRepository
        arguments: {$entityName: 'Misa\Accounting\Domain\Provider\Provider'}

    accounting.doctrine.source:
        class: Misa\Accounting\Infrastructure\Persistence\Doctrine\SourceDoctrineRepository
        arguments: {$entityName: 'Misa\Accounting\Domain\Provider\Source\Source'}

    accounting.solr.provider.search:
        class: Misa\Accounting\Infrastructure\SearchEngine\Solr\ProviderSolrRepository
        arguments: ['@solarium.client.provider']
